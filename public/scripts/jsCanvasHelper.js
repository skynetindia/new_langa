function Canvas(a){var b=a.getContext("2d");this.drawPoint=function(a,b){this.drawArc(new Pen(b,1),a,.5,0,2*Math.PI)};this.drawCircle=function(a,b,c){this.drawArc(a,b,c,0,2*Math.PI)};this.drawFillCircle=function(a,b,c){this.drawFillArc(a,b,0,2*Math.PI,c)};this.drawArc=function(a,c,d,e,f){b.strokeStyle=a.color.getHex();b.lineWidth=a.width;b.beginPath();b.arc(c.x,c.y,d,e,f,false);b.closePath();b.stroke()};this.drawFillArc=function(a,c,d,e,f){b.fillStyle=f.getHex();b.beginPath();b.arc(a.x,a.y,c,d,e,false);b.closePath();b.fill()};this.drawRect=function(a,c,d,e){b.strokeStyle=a.color.getHex();b.lineWidth=a.width;b.beginPath();b.strokeRect(c.x,c.y,d,e);b.closePath();b.stroke()};this.drawFillRect=function(a,c,d,e){b.fillStyle=e.getHex();b.beginPath();b.fillRect(a.x,a.y,c,d);b.closePath();b.fill()};this.drawLine=function(a,c,d){b.strokeStyle=a.color.getHex();b.lineWidth=a.width;b.beginPath();b.moveTo(c.x,c.y);b.lineTo(d.x,d.y);b.closePath();b.stroke()};this.clear=function(){this.clearRect(new Point(0,0),a.width,a.height)};this.clearRect=function(a,c,d){b.clearRect(a.x,a.y,c,d)};this.drawText=function(a,c,d){b.font=c;b.beginPath();b.fillText(d,a.x,a.y);b.closePath();b.stroke()};this.drawImage=function(a,c,d,e){if(arguments.length==2){b.drawImage(c,a.x,a.y)}else{b.drawImage(c,a.x,a.y,d,e)}};this.toImage=function(){return a.toDataURL("image/png")}}function Point(a,b){this.x=0;this.y=0;if(arguments.length==2){this.x=a;this.y=b}}function Vector(a,b){this.x=0;this.y=0;this.length=0;if(arguments.length==2){this.x=a;this.y=b;this.length=Math.sqrt(a*a+b*b)}}function Pen(a,b){this.color=new Color;this.width=1;if(arguments.length>0){this.color=a;this.width=b}}function Color(){function b(a,b,c){if(a<0||a>255||b<0||b>255||c<0||c>255){return false}return"#"+((1<<24)+(a<<16)+(b<<8)+c).toString(16).slice(1)}function c(a){if(a.charAt(0)=="#"){a=a.substring(1,7)}var b=parseInt(a.substring(0,2),16);var c=parseInt(a.substring(2,4),16);var d=parseInt(a.substring(4,6),16);if(b<0||b>255||c<0||c>255||d<0||d>255){return false}return new Array(b,c,d)}var a="#000000";this.getHex=function(){return a};this.setHex=function(b){if(b.charAt(0)=="#"){a=b}else{a="#"+b}var d=c(a);if(!d){a="#000000"}};this.getRgb=function(){return this.hexToRgb(a)};switch(arguments.length){case 1:this.setHex(arguments[0]);break;case 3:var d=arguments[0];var e=arguments[1];var f=arguments[2];a=b(d,e,f);if(a==false)a="#000000";break}}